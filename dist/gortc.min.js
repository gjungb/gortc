(function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');throw s.path=r,s.parent=n,s.require=!0,s}var o=e.modules[i];if(!o._resolving&&!o.exports){var u={};u.exports={},u.client=u.component=!0,o._resolving=!0,o.call(this,u.exports,e.relative(i),u),delete o._resolving,o.exports=u.exports}return o.exports}e.modules={},e.aliases={},e.resolve=function(t){t.charAt(0)==="/"&&(t=t.slice(1));var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function r(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var n=e.normalize(t,"..");return i.resolve=function(i){var s=i.charAt(0);if("/"==s)return i.slice(1);if("."==s)return e.normalize(n,i);var o=t.split("/"),u=r(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i,i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-emitter/index.js",function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=t("indexof");n.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=r,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=r(n,t._off||t);return~i&&n.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("gortc/gortc.js",function(e,t,n){"use strict";function u(e){e.enableDataChannels=!1,this.webrtc=new i(e),this.room=e.room,this.channel=this.room.channel("goinstant.gortc"),this.key=this.room.key("goinstant/gortc"),this.constraints={video:e.video===undefined||e.video,audio:e.audio===undefined||e.audio},this.started=!1;var t=this.room.self().name;this.id=t.substr(t.lastIndexOf("/")+1),this.unloadHandler=this.stop.bind(this),o.call(this),e.autoStart&&this.start()}var r=window.mozRTCPeerConnection||window.webkitRTCPeerConnection||window.RTCPeerConnection;if(!r){n.exports=function(){throw new Error("This browser doesn't support webrtc.")},n.exports.support=!1;return}var i=t("./vendor/webrtc.js/webrtc.bundle.js"),s=t("./vendor/attachmediastream/attachmediastream.bundle.js"),o=t("emitter");u.support=!0,u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.start=function(e){function n(n){if(n)return e(n);t.key.get(function(n,r){if(n)return e(n);for(var i in r)t._addPeer(i);t.key.on("set",{bubble:!0,listener:function(e,n){var r=n.key.substr(n.key.lastIndexOf("/")+1);t._addPeer(r)}}),t.key.on("remove",{bubble:!0,listener:function(e,n){var r=n.key.substr(n.key.lastIndexOf("/")+1);t._removePeer(r)}});var s={cascade:t.room.self()};t.key.key(t.id).set(!0,s,function(n){if(n)return e(n);t.emit("started"),e()})})}e=e||function(){};if(this.started)return e();this.started=!0;var t=this;this.channel.on("message",this._onMessageReceived.bind(this)),this.webrtc.on("message","gortc",this.channel.message.bind(this.channel)),this.webrtc.on("localStream","gortc",function(e){var n=s(e,null,{muted:!0,mirror:!0});t.localVideo=n}),this.webrtc.on("peerStreamAdded","gortc",function(e){var t=s(e.stream);e.video=t}),this.webrtc.on("*","gortc",this.emit.bind(this)),window.addEventListener("beforeunload",this.unloadHandler),this.webrtc.startLocalMedia(this.constraints,n)},u.prototype.stop=function(e){e=e||function(){};if(!this.started)return e();this.started=!1;while(this.webrtc.peers.length)this.webrtc.peers[0].end();this.webrtc.stopLocalMedia(),this.key.off(),this.channel.off(),this.webrtc.releaseGroup("gortc"),window.removeEventListener("beforeunload",this.unloadHandler);var t=this;this.key.key(this.id).remove(function(n){if(n)return e(n);t.emit("stopped"),e()})},u.prototype.pause=function(){this.webrtc.pause()},u.prototype.resume=function(){this.webrtc.resume()},u.prototype.mute=function(){this.webrtc.mute()},u.prototype.unmute=function(){this.webrtc.unmute()},u.prototype._addPeer=function(e){if(e>=this.id)return;var t=this.webrtc.createPeer({id:e});t.start()},u.prototype._removePeer=function(e){this.webrtc.removePeers(e)},u.prototype._onMessageReceived=function(e,t){if(e.to&&e.to!==this.id)return;if(e.type==="offer"){var n=this.webrtc.getPeers(t.userId,e.roomType);return n=n&&n[0]||this.webrtc.createPeer({id:t.userId,type:e.roomType}),n.handleMessage(e)}var r=this.webrtc.getPeers(t.userId,e.roomType);e.from=t.userId,r.forEach(function(t){t.handleMessage(e)})},n.exports=u}),e.register("gortc/vendor/webrtc.js/webrtc.bundle.js",function(e,t,n){(function(t){if("function"==typeof bootstrap)bootstrap("webrtc",t);else if("object"==typeof e)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeWebRTC=t}else"undefined"!=typeof window?window.WebRTC=t():global.WebRTC=t()})(function(){var e,n,r,i,s;return function(e,n,r){function i(r,o){if(!n[r]){if(!e[r]){var u=typeof t=="function"&&t;if(!o&&u)return u(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var a=n[r]={exports:{}};e[r][0].call(a.exports,function(t){var n=e[r][1][t];return i(n?n:t)},a,a.exports)}return n[r].exports}var s=typeof t=="function"&&t;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function l(e){var t=this,n=e||{},i=this.config={debug:!1,localVideoEl:"",remoteVideosEl:"",autoRequestMedia:!1,peerConnectionConfig:{iceServers:[{url:"stun:stun.l.google.com:19302"}]},peerConnectionContraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!0}]},autoAdjustMic:!1,media:{audio:!0,video:!0},detectSpeakingEvents:!0,enableDataChannels:!0},s,u;this.screenSharingSupport=r.screenSharing,this.logger=function(){return e.debug?e.logger||console:e.logger||f}();for(s in n)this.config[s]=n[s];r.support||this.logger.error("Your browser doesn't seem to support WebRTC"),this.peers=[],o.call(this),this.config.debug&&this.on("*",function(e,n,r){var i;t.config.logger===f?i=console:i=t.logger,i.log("event:",e,n,r)})}function c(e){var t=this;this.id=e.id,this.parent=e.parent,this.type=e.type||"video",this.oneway=e.oneway||!1,this.sharemyscreen=e.sharemyscreen||!1,this.browserPrefix=e.prefix,this.stream=e.stream,this.channels={},this.pc=new s(this.parent.config.peerConnectionConfig,this.parent.config.peerConnectionContraints),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("addStream",this.handleRemoteStreamAdded.bind(this)),this.pc.on("addChannel",this.handleDataChannelAdded.bind(this)),this.pc.on("removeStream",this.handleStreamRemoved.bind(this)),this.pc.on("negotiationNeeded",this.emit.bind(this,"negotiationNeeded")),this.logger=this.parent.logger,e.type==="screen"?this.parent.localScreen&&this.sharemyscreen&&(this.logger.log("adding local screen stream to peer connection"),this.pc.addStream(this.parent.localScreen),this.broadcaster=e.broadcaster):this.pc.addStream(this.parent.localStream);if(this.parent.config.enableDataChannels&&r.dataChannel){try{this.reliableChannel=this.getDataChannel("reliable",{reliable:!0});if(!this.reliableChannel.reliable)throw Error("Failed to make reliable channel")}catch(n){this.logger.warn("Failed to create reliable data channel."),this.reliableChannel=!1,delete this.channels.reliable}try{this.unreliableChannel=this.getDataChannel("unreliable",{reliable:!1,preset:!0});if(this.unreliableChannel.unreliable!==!1)throw Error("Failed to make unreliable channel")}catch(n){this.logger.warn("Failed to create unreliable data channel."),this.unreliableChannel=!1,delete this.channels.unreliableChannel}}o.call(this),this.on("*",function(){t.parent.emit.apply(t.parent,arguments)})}var r=e("webrtcsupport"),i=e("getusermedia"),s=e("rtcpeerconnection"),o=e("wildemitter"),u=e("hark"),a=e("mediastream-gain"),f=e("mockconsole");l.prototype=Object.create(o.prototype,{constructor:{value:l}}),l.prototype.createPeer=function(e){var t;return e.parent=this,t=new c(e),this.peers.push(t),t},l.prototype.startLocalMedia=function(e,t){var n=this,r=e||{video:!0,audio:!0};i(r,function(e,i){e||(r.audio&&n.config.detectSpeakingEvents&&n.setupAudioMonitor(i),n.localStream=i,n.config.autoAdjustMic&&(n.gainController=new a(i),n.setMicIfEnabled(.5)),n.emit("localStream",i)),t&&t(e,i)})},l.prototype.stopLocalMedia=function(){this.localStream&&(this.localStream.stop(),this.emit("localStreamStopped"))},l.prototype.mute=function(){this._audioEnabled(!1),this.hardMuted=!0,this.emit("audioOff")},l.prototype.unmute=function(){this._audioEnabled(!0),this.hardMuted=!1,this.emit("audioOn")},l.prototype.setupAudioMonitor=function(e){this.logger.log("Setup audio");var t=u(e),n=this,r;t.on("speaking",function(){if(n.hardMuted)return;n.setMicIfEnabled(1),n.sendToAll("speaking",{}),n.emit("speaking")}),t.on("stopped_speaking",function(){if(n.hardMuted)return;r&&clearTimeout(r),r=setTimeout(function(){n.setMicIfEnabled(.5),n.sendToAll("stopped_speaking",{}),n.emit("stoppedSpeaking")},1e3)})},l.prototype.setMicIfEnabled=function(e){if(!this.config.autoAdjustMic)return;this.gainController.setGain(e)},l.prototype.pauseVideo=function(){this._videoEnabled(!1),this.emit("videoOff")},l.prototype.resumeVideo=function(){this._videoEnabled(!0),this.emit("videoOn")},l.prototype.pause=function(){this._audioEnabled(!1),this.pauseVideo()},l.prototype.resume=function(){this._audioEnabled(!0),this.resumeVideo()},l.prototype._audioEnabled=function(e){this.setMicIfEnabled(e?1:0),this.localStream.getAudioTracks().forEach(function(t){t.enabled=!!e})},l.prototype._videoEnabled=function(e){this.localStream.getVideoTracks().forEach(function(t){t.enabled=!!e})},l.prototype.removePeers=function(e,t){this.getPeers(e,t).forEach(function(e){e.end()})},l.prototype.getPeers=function(e,t){return this.peers.filter(function(n){return(!e||n.id===e)&&(!t||n.type===t)})},l.prototype.sendToAll=function(e,t){this.peers.forEach(function(n){n.send(e,t)})},c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.handleMessage=function(e){var t=this;this.logger.log("getting",e.type,e),e.prefix&&(this.browserPrefix=e.prefix),e.type==="offer"?this.pc.answer(e.payload,function(e,n){t.send("answer",n)}):e.type==="answer"?this.pc.handleAnswer(e.payload):e.type==="candidate"?this.pc.processIce(e.payload):e.type==="speaking"?this.parent.emit("speaking",{id:e.from}):e.type==="stopped_speaking"&&this.parent.emit("stopped_speaking",{id:e.from})},c.prototype.send=function(e,t){var n={to:this.id,broadcaster:this.broadcaster,roomType:this.type,type:e,payload:t,prefix:r.prefix};this.logger.log("sending",e,n),this.parent.emit("message",n)},c.prototype._observeDataChannel=function(e){var t=this;e.onclose=this.emit.bind(this,"channelClose",e),e.onerror=this.emit.bind(this,"channelError",e),e.onmessage=function(n){t.emit("message",e.label,n.data,e,n)},e.onopen=this.emit.bind(this,"channelOpen",e)},c.prototype.getDataChannel=function(e,t){if(!r.dataChannel)return this.emit("error",new Error("createDataChannel not supported"));var n=this.channels[e];return t||(t={}),n?n:(n=this.channels[e]=this.pc.createDataChannel(e,t),this._observeDataChannel(n),n)},c.prototype.onIceCandidate=function(e){if(this.closed)return;e?this.send("candidate",e):this.logger.log("End of candidates.")},c.prototype.start=function(){var e=this;this.pc.offer(function(t,n){e.send("offer",n)})},c.prototype.end=function(){this.pc.close(),this.handleStreamRemoved()},c.prototype.handleRemoteStreamAdded=function(e){this.stream?this.logger.warn("Already have a remote stream"):(this.stream=e.stream,this.parent.emit("peerStreamAdded",this))},c.prototype.handleStreamRemoved=function(){this.parent.peers.splice(this.parent.peers.indexOf(this),1),this.closed=!0,this.parent.emit("peerStreamRemoved",this)},c.prototype.handleDataChannelAdded=function(e){this.channels[e.name]=e},t.exports=l},{getusermedia:3,hark:6,"mediastream-gain":7,mockconsole:8,rtcpeerconnection:4,webrtcsupport:2,wildemitter:5}],2:[function(e,t,n){var r,i=!1,s=!1,o=navigator.userAgent.toLowerCase();o.indexOf("firefox")!==-1?(r="moz",s=!0):o.indexOf("chrome")!==-1&&(r="webkit",i=!0);var u=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,a=window.mozRTCIceCandidate||window.RTCIceCandidate,f=window.mozRTCSessionDescription||window.RTCSessionDescription,l=window.webkitMediaStream||window.MediaStream,c=navigator.userAgent.match("Chrome")&&parseInt(navigator.userAgent.match(/Chrome\/(.*) /)[1],10)>=26,h=window.webkitAudioContext||window.AudioContext;t.exports={support:!!u,dataChannel:i||s||u.prototype&&u.prototype.createDataChannel,prefix:r,webAudio:!!h&&!!h.prototype.createMediaStreamSource,mediaStream:!!l&&!!l.prototype.removeTrack,screenSharing:!!c,AudioContext:h,PeerConnection:u,SessionDescription:f,IceCandidate:a}},{}],3:[function(e,t,n){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;t.exports=function(e,t){var n,i=arguments.length===2,s={video:!0,audio:!0},o,u="PERMISSION_DENIED",a="CONSTRAINT_NOT_SATISFIED";i||(t=e,e=s);if(!r)return o=new Error("NavigatorUserMediaError"),o.name="NOT_SUPPORTED_ERROR",t(o);r.call(navigator,e,function(e){t(null,e)},function(e){var n;typeof e=="string"?(n=new Error("NavigatorUserMediaError"),e===u?n.name=u:n.name=a):(n=e,n.name||(n[u]?e.name=u:e.name=a)),t(n)})}},{}],5:[function(e,t,n){function r(){this.callbacks={}}t.exports=r,r.prototype.on=function(e,t,n){var r=arguments.length===3,i=r?arguments[1]:undefined,s=r?arguments[2]:arguments[1];return s._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(s),this},r.prototype.once=function(e,t,n){function u(){r.off(e,u),o.apply(this,arguments)}var r=this,i=arguments.length===3,s=i?arguments[1]:undefined,o=i?arguments[2]:arguments[1];return this.on(e,s,u),this},r.prototype.releaseGroup=function(e){var t,n,r,i;for(t in this.callbacks){i=this.callbacks[t];for(n=0,r=i.length;n<r;n++)i[n]._groupName===e&&(i.splice(n,1),n--,r--)}return this},r.prototype.off=function(e,t){var n=this.callbacks[e],r;return n?arguments.length===1?(delete this.callbacks[e],this):(r=n.indexOf(t),n.splice(r,1),this):this},r.prototype.emit=function(e){var t=[].slice.call(arguments,1),n=this.callbacks[e],r=this.getWildcardCallbacks(e),i,s,o;if(n)for(i=0,s=n.length;i<s;++i){if(!n[i])break;n[i].apply(this,t)}if(r)for(i=0,s=r.length;i<s;++i){if(!r[i])break;r[i].apply(this,[e].concat(t))}return this},r.prototype.getWildcardCallbacks=function(e){var t,n,r=[];for(t in this.callbacks){n=t.split("*");if(t==="*"||n.length===2&&e.slice(0,n[1].length)===n[1])r=r.concat(this.callbacks[t])}return r}},{}],8:[function(e,t,n){var r="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),i=r.length,s=function(){},o={};while(i--)o[r[i]]=s;t.exports=o},{}],4:[function(e,t,n){function s(e,t){var n;this.pc=new i.PeerConnection(e,t),r.call(this),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onaddstream=this._onAddStream.bind(this),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.config={debug:!1,sdpHack:!0};for(n in e)this.config[n]=e[n];this.config.debug&&this.on("*",function(t,n){var r=e.logger||console;r.log("PeerConnection event:",arguments)})}var r=e("wildemitter"),i=e("webrtcsupport");s.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},s.prototype.processIce=function(e){this.pc.addIceCandidate(new i.IceCandidate(e))},s.prototype.offer=function(e,t){var n=this,r=arguments.length===2,i=r?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},s=r?t:e;this.pc.createOffer(function(e){e.sdp=n._applySdpHack(e.sdp),n.pc.setLocalDescription(e),n.emit("offer",e),s&&s(null,e)},function(e){n.emit("error",e),s&&s(e)},i)},s.prototype.answerAudioOnly=function(e,t){var n={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(e,n,t)},s.prototype.answerBroadcastOnly=function(e,t){var n={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(e,n,t)},s.prototype.answer=function(e,t,n){var r=this,i=arguments.length===3,s=i?n:t,o=i?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(e,o,s)},s.prototype.handleAnswer=function(e){this.pc.setRemoteDescription(new i.SessionDescription(e))},s.prototype.close=function(){this.pc.close(),this.emit("close")},s.prototype._answer=function(e,t,n){var r=this;this.pc.setRemoteDescription(new i.SessionDescription(e)),this.pc.createAnswer(function(e){e.sdp=r._applySdpHack(e.sdp),r.pc.setLocalDescription(e),r.emit("answer",e),n&&n(null,e)},function(e){r.emit("error",e),n&&n(e)},t)},s.prototype._onIce=function(e){e.candidate?this.emit("ice",e.candidate):this.emit("endOfCandidates")},s.prototype._onDataChannel=function(e){this.emit("addChannel",e.channel)},s.prototype._onAddStream=function(e){this.remoteStream=e.stream,this.emit("addStream",e)},s.prototype._applySdpHack=function(e){if(!this.config.sdpHack)return e;var t=e.split("b=AS:30");return t.length===2?t[0]+"b=AS:102400"+t[1]:e},s.prototype.createDataChannel=function(e,t){t||(t={});var n=!!t.reliable,r=t.protocol||"text/plain",s=!!t.negotiated||!!t.preset,o,u;return i.prefix==="moz"?(n?o={protocol:r,preset:s,stream:e}:o={},u=this.pc.createDataChannel(e,o),u.binaryType="blob"):(n?o={reliable:!0}:o={reliable:!1},u=this.pc.createDataChannel(e,o)),u},t.exports=s},{webrtcsupport:2,wildemitter:5}],6:[function(e,t,n){function i(e,t){var n=-Infinity;e.getFloatFrequencyData(t);for(var r=0,i=t.length;r<i;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}var r=e("wildemitter");t.exports=function(e,t){var n=new r;if(!window.webkitAudioContext)return n;var t=t||{},s=t.smoothing||.5,o=t.interval||100,u=t.threshold,a=t.play,f=new webkitAudioContext,l,c,h;h=f.createAnalyser(),h.fftSize=512,h.smoothingTimeConstant=s,c=new Float32Array(h.fftSize),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement?(l=f.createMediaElementSource(e),typeof a=="undefined"&&(a=!0),u=u||-65):(l=f.createMediaStreamSource(e),u=u||-45),l.connect(h),a&&h.connect(f.destination),n.speaking=!1,n.setThreshold=function(e){u=e},n.setInterval=function(e){o=e};var p=function(){setTimeout(function(){var e=i(h,c);n.emit("volume_change",e,u),e>u?n.speaking||(n.speaking=!0,n.emit("speaking")):n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),p()},o)};return p(),n}},{wildemitter:5}],7:[function(e,t,n){function i(e){this.support=r.webAudio&&r.mediaStream,this.gain=1;if(this.support){var t=this.context=new r.AudioContext;this.microphone=t.createMediaStreamSource(e),this.gainFilter=t.createGain(),this.destination=t.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),e.removeTrack(e.getAudioTracks()[0]),e.addTrack(this.outputStream.getAudioTracks()[0])}this.stream=e}var r=e("webrtcsupport");i.prototype.setGain=function(e){if(!this.support)return;this.gainFilter.gain.value=e,this.gain=e},i.prototype.getGain=function(){return this.gain},i.prototype.off=function(){return this.setGain(0)},i.prototype.on=function(){this.setGain(1)},t.exports=i},{webrtcsupport:2}]},{},[1])(1)})}),e.register("gortc/vendor/attachmediastream/attachmediastream.bundle.js",function(e,t,n){(function(t){if("function"==typeof bootstrap)bootstrap("attachmediastream",t);else if("object"==typeof e)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeAttachMediaStream=t}else"undefined"!=typeof window?window.attachMediaStream=t():global.attachMediaStream=t()})(function(){var e,n,r,i,s;return function(e,n,r){function i(r,o){if(!n[r]){if(!e[r]){var u=typeof t=="function"&&t;if(!o&&u)return u(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var a=n[r]={exports:{}};e[r][0].call(a.exports,function(t){var n=e[r][1][t];return i(n?n:t)},a,a.exports)}return n[r].exports}var s=typeof t=="function"&&t;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){t.exports=function(e,t,n){var r=window.URL,i={autoplay:!0,mirror:!1,muted:!1},s=t||document.createElement("video"),o;if(n)for(o in n)i[o]=n[o];i.autoplay&&(s.autoplay="autoplay"),i.muted&&(s.muted=!0),i.mirror&&["","moz","webkit","o","ms"].forEach(function(e){var t=e?e+"Transform":"transform";s.style[t]="scaleX(-1)"});if(r&&r.createObjectURL)s.src=r.createObjectURL(e);else if(s.srcObject)s.srcObject=e;else{if(!s.mozSrcObject)return!1;s.mozSrcObject=e}return s}},{}]},{},[1])(1)})}),e.alias("component-emitter/index.js","gortc/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("gortc/gortc.js","gortc/index.js"),typeof exports=="object"?module.exports=e("gortc"):typeof define=="function"&&define.amd?define([],function(){return e("gortc")}):(this[""],this.goinstant=this.goinstant||{},this.goinstant.integrations=this.goinstant.integrations||{},this.goinstant.integrations.GoRTC=e("gortc"))})();